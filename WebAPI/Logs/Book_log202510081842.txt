2025-10-08 18:42:22.721 +07:00 [INF] Request starting HTTP/2 PUT https://localhost:7021/api/Books/update-book-by-id/6 - application/json 263
2025-10-08 18:42:22.734 +07:00 [INF] Executing endpoint 'WebAPI.Controllers.BooksController.UpdateBookById (WebAPI)'
2025-10-08 18:42:22.737 +07:00 [INF] Route matched with {action = "UpdateBookById", controller = "Books"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult UpdateBookById(Int32, WebAPI.Models.DTO.AddBookRequestDTO) on controller WebAPI.Controllers.BooksController (WebAPI).
2025-10-08 18:42:22.782 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[CoverUrl], [b].[DateAdded], [b].[DateRead], [b].[Description], [b].[Genre], [b].[IsRead], [b].[PublisherID], [b].[Rate], [b].[Title]
FROM [Books] AS [b]
WHERE [b].[Id] = @__id_0
2025-10-08 18:42:22.815 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__bookDTO_PublisherID_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Publishers] AS [p]
        WHERE [p].[Id] = @__bookDTO_PublisherID_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-10-08 18:42:22.826 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__authorId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Authors] AS [a]
        WHERE [a].[Id] = @__authorId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-10-08 18:42:22.904 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@p7='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (DbType = Boolean), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Books] SET [CoverUrl] = @p0, [DateAdded] = @p1, [DateRead] = @p2, [Genre] = @p3, [IsRead] = @p4, [PublisherID] = @p5, [Rate] = @p6
OUTPUT 1
WHERE [Id] = @p7;
2025-10-08 18:42:22.921 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AuthorId], [b].[BookId]
FROM [Books_Authors] AS [b]
WHERE [b].[BookId] = @__id_0
2025-10-08 18:42:22.951 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Books_Authors]
OUTPUT 1
WHERE [Id] = @p0;
2025-10-08 18:42:22.984 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Books_Authors] ([AuthorId], [BookId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2025-10-08 18:42:22.997 +07:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.Models.DTO.AddBookRequestDTO'.
2025-10-08 18:42:23.001 +07:00 [INF] Executed action WebAPI.Controllers.BooksController.UpdateBookById (WebAPI) in 260.8804ms
2025-10-08 18:42:23.002 +07:00 [INF] Executed endpoint 'WebAPI.Controllers.BooksController.UpdateBookById (WebAPI)'
2025-10-08 18:42:23.003 +07:00 [INF] Request finished HTTP/2 PUT https://localhost:7021/api/Books/update-book-by-id/6 - 200 null application/json; charset=utf-8 282.4158ms
2025-10-08 18:42:43.583 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7021/api/User/Login - application/json 60
2025-10-08 18:42:43.587 +07:00 [INF] Executing endpoint 'WebAPI.Controllers.UserController.Login (WebAPI)'
2025-10-08 18:42:43.589 +07:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(WebAPI.Models.DTO.LoginRequestDTO) on controller WebAPI.Controllers.UserController (WebAPI).
2025-10-08 18:42:43.613 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-10-08 18:42:43.687 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-10-08 18:42:43.690 +07:00 [INF] Executing OkObjectResult, writing value of type 'WebAPI.Models.DTO.LoginResponseDTO'.
2025-10-08 18:42:43.691 +07:00 [INF] Executed action WebAPI.Controllers.UserController.Login (WebAPI) in 99.9198ms
2025-10-08 18:42:43.692 +07:00 [INF] Executed endpoint 'WebAPI.Controllers.UserController.Login (WebAPI)'
2025-10-08 18:42:43.693 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7021/api/User/Login - 200 null application/json; charset=utf-8 109.8751ms
